{"version":3,"sources":["build/plugins.js"],"names":["webpack","require","ExtractTextPlugin","HappyPackLoader","config","fs","module","exports","production","browser","bannerOptions","raw","banner","compress","warnings","ExtractText","filename","allChunks","CommonChunks","optimize","CommonsChunkPlugin","names","HappyPack","loaders","id","BuildStats","plugin","stats","writeFileSync","paths","dist","toJson","DefinePlugin","globals","EnvironmentPlugin","BannerPlugin","HotModuleReplacementPlugin","NoEmitOnErrorsPlugin","NamedModulesPlugin","UglifyJsPlugin"],"mappings":"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","file":"plugins.js","sourceRoot":"/Volumes/Git HD/Code/openclub","sourcesContent":["const webpack = require('webpack');\nconst ExtractTextPlugin = require('extract-text-webpack-plugin');\nconst HappyPackLoader = require('happypack');\nconst config = require('../config/index');\nconst fs = require('fs');\n\nmodule.exports = ({ production = false, browser = false } = {}) => {\n  const bannerOptions = { raw: true, banner: 'require(\"source-map-support\").install();' };\n  const compress = { warnings: false };\n\n  const ExtractText = new ExtractTextPlugin({ filename: '[name].[hash].css', allChunks: true });\n  const CommonChunks = new webpack.optimize.CommonsChunkPlugin({\n    names: ['vendor']\n  });\n  const HappyPack = [\n    new HappyPackLoader({\n      loaders: ['babel-loader']\n    }),\n    new HappyPackLoader({\n      id: 'style-loader',\n      loaders: ['style-loader']\n    }),\n    new HappyPackLoader({\n      id: 'css-loader',\n      loaders: ['css-loader']\n    }),\n    new HappyPackLoader({\n      id: 'sass-loader',\n      loaders: ['sass-loader']\n    }),\n    new HappyPackLoader({\n      id: 'url-loader',\n      loaders: ['url-loader']\n    }),\n  ];\n\n  function BuildStats() {\n    this.plugin(\"done\", (stats) => {\n      fs.writeFileSync(config.paths.dist + '/stats.json', JSON.stringify(stats.toJson()));\n    });\n  }\n\n  if (!production && !browser) {\n    return [\n      new webpack.DefinePlugin(config.globals),\n      new webpack.EnvironmentPlugin(['NODE_ENV']),\n      ExtractText,\n      new webpack.BannerPlugin(bannerOptions),\n      ...HappyPack\n    ];\n  }\n  if (!production && browser) {\n    return [\n      BuildStats,\n      CommonChunks,\n      new webpack.DefinePlugin(config.globals),\n      new webpack.EnvironmentPlugin(['NODE_ENV']),\n      new webpack.HotModuleReplacementPlugin(),\n      new webpack.NoEmitOnErrorsPlugin(),\n      new webpack.NamedModulesPlugin(),\n      ExtractText,\n      new webpack.NoEmitOnErrorsPlugin(),\n      ...HappyPack\n    ];\n  }\n  if (production && !browser) {\n    return [\n      new webpack.DefinePlugin(config.globals),\n      new webpack.EnvironmentPlugin(['NODE_ENV']),\n      new webpack.BannerPlugin(bannerOptions),\n      ExtractText,\n      new webpack.optimize.UglifyJsPlugin({ compress }),\n      ...HappyPack\n    ];\n  }\n  if (production && browser) {\n    return [\n      BuildStats,\n      CommonChunks,\n      new webpack.DefinePlugin(config.globals),\n      new webpack.EnvironmentPlugin(['NODE_ENV']),\n      ExtractText,\n      new webpack.optimize.UglifyJsPlugin({ compress }),\n      ...HappyPack\n    ];\n  }\n  return [];\n};\n"]}