{"version":3,"sources":["server/render.jsx"],"names":["createApp","store","props","buildPage","componentHTML","initialState","headAssets","title","toString","meta","link","setup","routes","history","getState","rewind"],"mappings":";;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;AACA;;;;;;AAEA,IAAMA,YAAY,SAAZA,SAAY,CAACC,KAAD,EAAQC,KAAR;AAAA,SAAkB,4BAClC,+EAAc,OAAOD,KAArB,IAAgCC,KAAhC,IAAuC,YAAvC,IADkC,CAAlB;AAAA,CAAlB;;AAIA,SAASC,SAAT,OAAgE;AAAA,MAA3CC,aAA2C,QAA3CA,aAA2C;AAAA,MAA5BC,YAA4B,QAA5BA,YAA4B;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAC9D,+DAIMA,WAAWC,KAAX,CAAiBC,QAAjB,EAJN,gBAKMF,WAAWG,IAAX,CAAgBD,QAAhB,EALN,gBAMMF,WAAWI,IAAX,CAAgBF,QAAhB,EANN,gBAOM,0CAPN,wDAUqBJ,aAVrB,yDAWyC,yBAAeC,YAAf,CAXzC,yBAYM,qCAZN;AAeD;;AAED,SAASM,KAAT,CAAeV,KAAf,EAAsBW,MAAtB,EAA8BC,OAA9B,EAAuC;AACrC,MAAMR,eAAeJ,MAAMa,QAAN,EAArB;AACA,MAAMV,gBAAgBJ,UAAUC,KAAV,EAAiBW,MAAjB,EAAyBC,OAAzB,CAAtB;AACA,MAAMP,aAAa,sBAAOS,MAAP,EAAnB;AACA,SAAOZ,UAAU,EAAEC,4BAAF,EAAiBC,0BAAjB,EAA+BC,sBAA/B,EAAV,CAAP;AACD;;kBAEcK,K","file":"render.jsx","sourceRoot":"/Volumes/Git HD/Code/openclub","sourcesContent":["import React from 'react';\nimport { renderToString } from 'react-dom/server';\nimport Helmet from 'react-helmet';\nimport { createAppScript, createTrackingScript } from './createScripts';\nimport AppContainer from '../src/containers/AppContainer';\n\nconst createApp = (store, props) => renderToString(\n  <AppContainer store={store} {...props} server/>\n);\n\nfunction buildPage({ componentHTML, initialState, headAssets }) {\n  return `\n  <!doctype html>\n  <html>\n    <head>\n      ${headAssets.title.toString()}\n      ${headAssets.meta.toString()}\n      ${headAssets.link.toString()}\n      ${createTrackingScript()}\n    </head>\n    <body>\n      <div id=\"root\">${componentHTML}</div>\n      <script>window.__INITIAL_STATE__ = ${JSON.stringify(initialState)}</script>\n      ${createAppScript()}\n    </body>\n  </html>`;\n}\n\nfunction setup(store, routes, history) {\n  const initialState = store.getState();\n  const componentHTML = createApp(store, routes, history);\n  const headAssets = Helmet.rewind();\n  return buildPage({ componentHTML, initialState, headAssets });\n}\n\nexport default setup;\n"]}