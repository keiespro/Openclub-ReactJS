{"version":3,"sources":["src/components/Sidebar/SidebarScripts.js"],"names":["SidebarScripts","$sidebarNav","$sidebarContent","activate","on","event","item","getItemElement","ele","liparent","parent","lis","children","find","removeClass","each","idx","li","next","length","tagName","toggleClass","preventDefault","element","target","parentNode","toLowerCase","sidebar","href","attr","replace","window","location","indexOf","parents","addClass","layoutContainer","$body","click","e","addEventListener","innerWidth"],"mappings":"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","file":"SidebarScripts.js","sourceRoot":"/Volumes/Git HD/Code/openclub","sourcesContent":["import $ from 'jquery';\n\nfunction SidebarScripts() {\n\n    var $sidebarNav = $('.sidebar-nav');\n    var $sidebarContent = $('.sidebar-content');\n\n    activate($sidebarNav);\n\n    $sidebarNav.on('click', function(event) {\n        var item = getItemElement(event);\n        // check click is on a tag\n        if (!item) return;\n\n        var ele = $(item),\n            liparent = ele.parent()[0];\n\n        var lis = ele.parent().parent().children(); // markup: ul > li > a\n        // remove .active from childs\n        lis.find('li').removeClass('active');\n        // remove .active from siblings ()\n        $.each(lis, function(idx, li) {\n            if (li !== liparent)\n                $(li).removeClass('active');\n        });\n\n        var next = ele.next();\n        if (next.length && next[0].tagName === 'UL') {\n            ele.parent().toggleClass('active');\n            event.preventDefault();\n        }\n    });\n\n    // find the a element in click context\n    // doesn't check deeply, asumens two levels only\n    function getItemElement(event) {\n        var element = event.target,\n            parent = element.parentNode;\n        if (element.tagName.toLowerCase() === 'a') return element;\n        if (parent.tagName.toLowerCase() === 'a') return parent;\n        if (parent.parentNode.tagName.toLowerCase() === 'a') return parent.parentNode;\n    }\n\n    function activate(sidebar) {\n        sidebar.find('a').each(function() {\n            var href = $(this).attr('href').replace('#', '');\n            if (href !== '' && window.location.href.indexOf(href) >= 0) {\n                var item = $(this).parents('li').addClass('active');\n                // Animate scrolling to focus active item\n                // $sidebarContent.animate({\n                //     scrollTop: $sidebarContent.scrollTop() + item.position().top\n                // }, 1200);\n                return false; // exit foreach\n            }\n        });\n    }\n\n    var layoutContainer = $('.layout-container');\n    var $body = $('body');\n    // Handler to toggle sidebar visibility on mobile\n    $('#sidebar-toggler').click(function(e) {\n        e.preventDefault();\n        layoutContainer.toggleClass('sidebar-visible');\n        // toggle icon state\n        $(this).parent().toggleClass('active');\n    });\n    // Close sidebar when click on backdrop\n    $('.sidebar-layout-obfuscator').click(function(e) {\n        e.preventDefault();\n        layoutContainer.removeClass('sidebar-visible');\n        // restore icon\n        $('#sidebar-toggler').parent().removeClass('active');\n    });\n\n    // Handler to toggle sidebar visibility on desktop\n    $('#offcanvas-toggler').click(function(e) {\n        e.preventDefault();\n        $body.toggleClass('offcanvas-visible');\n        // toggle icon state\n        $(this).parent().toggleClass('active');\n    });\n\n    // remove desktop offcanvas when app changes to mobile\n    // so when it returns, the sidebar is shown again\n    window.addEventListener('resize', function() {\n        if (window.innerWidth < 768) {\n            $body.removeClass('offcanvas-visible');\n            $('#offcanvas-toggler').parent().addClass('active');\n        }\n    });\n\n}\n\nexport default SidebarScripts;\n"]}