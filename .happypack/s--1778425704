'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _reducers = require('store/reducers');

var _actions = require('modules/auth/actions');

var _code_splitting = require('utils/code_splitting');

var _CoreLayout = require('layouts/CoreLayout/CoreLayout');

var _CoreLayout2 = _interopRequireDefault(_CoreLayout);

var _Home = require('./Home');

var _Home2 = _interopRequireDefault(_Home);

var _Feed = require('./Feed');

var _Feed2 = _interopRequireDefault(_Feed);

var _Club = require('./Club');

var _Club2 = _interopRequireDefault(_Club);

var _Event = require('./Event');

var _Event2 = _interopRequireDefault(_Event);

var _Events = require('./Events');

var _Events2 = _interopRequireDefault(_Events);

var _Clubs = require('./Clubs');

var _Clubs2 = _interopRequireDefault(_Clubs);

var _Notifications = require('./Notifications');

var _Notifications2 = _interopRequireDefault(_Notifications);

var _Profile = require('./Profile');

var _Profile2 = _interopRequireDefault(_Profile);

var _Error = require('./Error');

var _Error2 = _interopRequireDefault(_Error);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (store) {
  var checkAuth = function checkAuth(nextState, replace, callback) {
    store.dispatch((0, _actions.checkAuthentication)());
    callback();
  };

  return {
    path: '/',
    getComponent: function getComponent(nextState, cb) {
      import('layouts/CoreLayout/CoreLayout').then((0, _code_splitting.loadcb)(cb)).catch(_code_splitting.splitError);
    },
    onEnter: checkAuth,
    indexRoute: (0, _Home2.default)(store),
    childRoutes: [(0, _Feed2.default)(store), (0, _Notifications2.default)(store), (0, _Profile2.default)(store), (0, _Events2.default)(store), (0, _Event2.default)(store), (0, _Clubs2.default)(store), (0, _Club2.default)(store), (0, _Error2.default)(store)]
  };
};